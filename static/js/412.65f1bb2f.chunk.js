"use strict";(self.webpackChunkmy_react_appo=self.webpackChunkmy_react_appo||[]).push([[412],{9412:(e,a,t)=>{t.r(a),t.d(a,{default:()=>w});var o=t(9950),n=t(3464),c=t(33),l=t(8170),s=t(20),r=t(9739),i=t(226),d=t(4857),u=t(6589),g=t(6491),p=t(899),h=t(975),x=t(7873),m=t(9890),y=t(5277),f=t(2053),b=t(6639),C=t(2578),j=t(9751),v=(t(6820),t(9153)),A=t(8429),S=t(2845),E=t(2675),k=t(4414);const R=e=>{let{isOpen:a,onClose:t,onConfirm:d}=e;const[u,g]=(0,o.useState)("");return(0,k.jsxs)(n.A,{open:a,onClose:t,children:[(0,k.jsx)(c.A,{children:"Introduzca Descuento"}),(0,k.jsx)(l.A,{children:(0,k.jsx)(s.A,{autoFocus:!0,margin:"dense",label:"Descuento en %",type:"number",fullWidth:!0,value:u,onChange:e=>g(e.target.value)})}),(0,k.jsxs)(r.A,{children:[(0,k.jsx)(i.A,{onClick:t,children:"Cancel"}),(0,k.jsx)(i.A,{onClick:()=>{u<90?d(u):alert("Ha ocurido un error"),t()},color:"primary",children:"Confirm"})]})]})},w=()=>{const[e,a]=(0,o.useState)(""),[t,n]=(0,o.useState)(""),[c,l]=(0,o.useState)(""),[r,w]=(0,o.useState)(""),[K,D]=(0,o.useState)(null),[I,P]=(0,o.useState)(""),[T,F]=(0,o.useState)(!1),[G,O]=(0,o.useState)(""),[z,L]=(0,o.useState)(!1),[N,W]=(0,o.useState)(""),[U,Z]=(0,o.useState)([]),[q,B]=(0,o.useState)("Aerea"),[Y,_]=(0,o.useState)([]),[J,M]=(0,o.useState)(!0),[V,X]=(0,o.useState)([]),[H,Q]=(0,o.useState)([]),[$,ee]=(0,o.useState)([]),[ae,te]=(0,o.useState)([]),[oe,ne]=(0,o.useState)({}),[ce,le]=(0,o.useState)(""),[se,re]=(0,o.useState)(""),[ie,de]=(0,o.useState)(""),ue=(0,C.C3)(v.A),ge=(0,d.A)(),pe=(0,u.A)(ge.breakpoints.down("sm")),{codigo:he,contexto:xe}=(0,A.g)(),[me,ye]=(0,o.useState)(!1),[fe,be]=(0,o.useState)(!1),[Ce,je]=(0,o.useState)(!1),[ve,Ae]=(0,o.useState)("");(0,A.Zp)();console.log(he);const[Se,Ee]=(0,o.useState)(null),ke=()=>{be(!1)},Re=e=>"Guinea Ecuatorial"===e?"Nacional":"Exterior",we=async e=>{let a=parseInt(e),t=Re(K.Pais);const o=(0,C.KR)(ue,"GE/".concat(t,"/Prod/").concat(he));try{if(console.log(e,"existe"),await(0,C.yo)(o,{Descuento:a}),a>0){(0,C.KR)(ue,"GE/Rebajas/".concat(he));const e=(0,C.KR)(ue,"GE/Filtros/".concat(t,"/").concat(K.Categoria,"/").concat(he));(0,C.KR)(ue,"GE/".concat(t,"/Prod/").concat(he));await(0,C.yo)(e,{Descuento:a})}else{const e=(0,C.KR)(ue,"GE/Rebajas/".concat(he)),o=(0,C.KR)(ue,"Filtros/".concat(t,"/").concat(K.Categoria,"/").concat(he));await(0,C.yo)(o,{Descuento:a}),await(0,C.TF)(e)}console.log("Data updated successfully")}catch(n){console.error("Error updating data: ",n)}},Ke=async()=>{try{const e=(0,C.KR)(ue,"GE");await(0,C.TF)((0,C.KR)(e,"Otros/".concat(he))),await(0,C.TF)((0,C.KR)(e,"Detalles/".concat(he))),"Moda & Accesorios"!==K.Categoria?await(0,C.TF)((0,C.KR)(e,"Filtros/".concat(Re(K.Pais),"/").concat(K.Categoria,"/").concat(he))):await(0,C.TF)((0,C.KR)(e,"Filtros/".concat(Re(K.Pais),"/").concat(K.Categoria,"/").concat(K.Genero,"/").concat(he))),await(0,C.TF)((0,C.KR)(e,"".concat(Re(K.Pais),"/Prod/").concat(he))),console.log("Data removed successfully")}catch(e){console.error("Error removing data: ",e)}};(0,o.useEffect)((()=>((()=>{let e=[],t=[];const o=(0,C.KR)(ue,"GE/".concat(xe,"/Prod/").concat(he));(0,C.Zy)(o,(o=>{let c=o.val();D(c),a(c.Titulo),O(c.Ubicacion),n(c.Precio),l(c.Dimension),w(c.Espacio),W(c.Detalles),P(c.Cantidad),F(c.Stock);const s=c.Color,r=c.Talla;console.log(s),s&&(Object.values(s).forEach((a=>{e.push(a.label),console.log("Color Code: ".concat(a.Codigo,", Label: ").concat(a.label))})),X(e)),r&&(Object.values(r).forEach((e=>{t.push("".concat(e.label,":").concat(e.precio))})),ee(t))}))})(),()=>{})),[]);const De=async(e,a,t)=>{const o=(0,C.P)((0,C.KR)(ue,"GE/".concat(xe,"/Prod/").concat(he,"/").concat(a)),(0,C.kT)("label"),(0,C.iz)(e));if("Eliminar"===t){const e=await(0,C.Jt)(o);if(e.exists()){let t;e.forEach((e=>{t=e.key})),console.log("Key:",t);const o=(0,C.KR)(ue,"GE/".concat(xe,"/Prod/").concat(he,"/").concat(a,"/").concat(t));await(0,C.TF)(o),console.log("Node deleted successfully.")}}else try{(await(0,C.Jt)(o)).exists()||(console.log("ENTRAMOS",e,a),Ie(e,a))}catch(n){return console.error("Error checking value existence in the database:",n),!1}},Ie=async(e,a)=>{let o=Re(K.Pais);const n=(0,C.VC)((0,C.KR)(ue,"GE/".concat(o,"/Prod/").concat(he,"/").concat(a))).key,c="GE/".concat(o,"/Prod/").concat(he,"/").concat(a,"/").concat(n);if("Color"===a)await(0,C.hZ)((0,C.KR)(ue,c),{label:e,codigo:n}),console.log({label:e,codigo:n});else{console.log({label:e,precio:parseInt(""===oe[e]?t:oe[e]),codigo:n});const a=parseInt(""===oe[e]?t:oe[e],10);await(0,C.hZ)((0,C.KR)(ue,n),{label:e,precio:a,codigo:n})}};return(0,k.jsxs)(g.A,{component:"form",onSubmit:async a=>{a.preventDefault();const o={...K,Titulo:e,Ubicacion:G,Precio:parseFloat(t),Cantidad:parseInt(I),Detalles:N,Stock:"Nacional"===xe?T:K.Stock,Espacio:"Exterior"===xe?parseFloat(r):0,Dimension:void 0!==c?parseFloat(c):parseFloat(1.5)},n=(0,C.KR)(ue,"GE/".concat(xe,"/Prod/").concat(he)),l=(0,C.KR)(ue,"GE/Filtros/".concat(xe,"/").concat(K.Categoria,"/").concat(he));await(0,C.yo)(n,o),await(0,C.yo)(l,o);for(const e of V)De(e,"Color","");for(const e in oe)oe.hasOwnProperty(e)&&De(e,"Talla","");console.log(o.Categoria,K)},sx:{mt:2,padding:2},children:[(0,k.jsx)(S.A,{texto:"Editar"}),(0,k.jsxs)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",marginTop:pe?40:0},children:[(0,k.jsx)(i.A,{variant:"contained",color:"info",onClick:()=>{ye(!0)},children:"APLICAR DESCUENTO"}),(0,k.jsx)(i.A,{variant:"contained",color:"error",style:{marginLeft:25},onClick:async()=>{const e=(0,C.KR)(ue,"GE/Otros/".concat(he)),a=(0,j.c7)(v.A);try{const t=await(0,C.Jt)(e);if(t.exists()){const e=t.val();for(const t in e){const o=e[t].Imagen;if(o){const e=(0,j.KR)(a,o);await(0,j.XR)(e),console.log("Deleted image: ".concat(o))}}Ke()}else console.log("No data available")}catch(t){console.error("Error: ",t)}},children:"ELIMINAR PRODUCTOR"})]}),(0,k.jsxs)(p.Ay,{container:!0,spacing:2,marginTop:pe?5:0,children:[(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(s.A,{label:"Title",variant:"outlined",value:e,onChange:e=>a(e.target.value),required:!0,fullWidth:!0})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(s.A,{label:"Ubicacion",variant:"outlined",value:G,onChange:e=>O(e.target.value),required:!0,fullWidth:!0})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(s.A,{label:"Price",variant:"outlined",type:"number",value:t,onChange:e=>n(e.target.value),required:!0,fullWidth:!0})}),"Nacional"===xe&&(0,k.jsxs)(g.A,{display:"flex",alignItems:"flex-end",marginY:1,margin:1,children:[(0,k.jsx)(s.A,{label:"Cantidad",type:"number",value:I,onChange:e=>P(e.target.value),style:{marginLeft:"8px"}}),(0,k.jsx)("div",{style:{margin:10,marginLeft:30},children:(0,k.jsx)(h.A,{control:(0,k.jsx)(x.A,{checked:T,onChange:e=>{F(e.target.checked)}}),label:"Stock"})})]}),"Exterior"===xe&&(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(s.A,{label:"Introduzca los Cm3",variant:"outlined",type:"number",value:r,onChange:e=>w(e.target.value),fullWidth:!0})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(s.A,{label:"Introduzca los Kg",variant:"outlined",type:"number",value:c,onChange:e=>l(e.target.value),fullWidth:!0})}),(0,k.jsx)(p.Ay,{item:!0,xs:12,children:(0,k.jsx)(s.A,{label:"Details",variant:"outlined",multiline:!0,rows:4,value:N,onChange:e=>W(e.target.value),required:!0,fullWidth:!0})}),(0,k.jsxs)("div",{style:{margin:10},children:[(0,k.jsx)(m.A,{value:ce,onChange:e=>le(e.target.value),onKeyDown:e=>{"Enter"!==e.key&&","!==e.key||(e.preventDefault(),ce.trim()&&(X([...V,ce.trim()]),le("")))},placeholder:"Introduzca Color"}),V.map(((e,a)=>(0,k.jsx)(y.A,{label:e,style:{margin:3},onDelete:()=>{return Ae(a=e),je("Color"),be(!0),void X(V.filter((e=>e!==a)));var a}},a)))]}),(0,k.jsxs)("div",{style:{margin:10},children:[(0,k.jsx)(m.A,{value:se,onChange:e=>re(e.target.value),onKeyDown:e=>{"Enter"!==e.key&&","!==e.key||(e.preventDefault(),console.log(se,"k es"),se.trim()&&(te([...ae,se.trim()]),ne({...oe,[se.trim()]:""}),console.log("wetiin",oe),re("")))},placeholder:"Introduzca Estilo"}),$.map(((e,a)=>(0,k.jsx)(y.A,{label:e,style:{margin:3},onDelete:()=>(e=>{be(!0);const a=e.split(":");Ae(a[0]),je("Talla"),ee($.filter((a=>a!==e)))})(e)}))),ae.length>0&&(0,k.jsx)(f.A,{children:"Nuevos"})]}),ae.map(((e,a)=>(0,k.jsxs)(g.A,{display:"flex",alignItems:"center",marginY:pe?1:5,children:[(0,k.jsx)(y.A,{label:e,style:{margin:3},onDelete:()=>(e=>{console.log("wettin"),te(ae.filter((a=>a!==e)));const a={...oe};delete a[e],ne(a)})(e)}),(0,k.jsx)(s.A,{label:"Price",type:"number",value:oe[e]||"",onChange:a=>((e,a)=>{ne({...oe,[a]:e.target.value})})(a,e),style:{marginLeft:"8px"}})]},a))),(0,k.jsx)("div",{style:{display:"flex",alignContent:"center",alignItems:"center"},children:(0,k.jsx)(i.A,{type:"submit",variant:"contained",color:"primary",children:z?(0,k.jsx)(b.A,{color:"warning",size:24}):"PUBLICAR"})})]}),Se&&(0,k.jsxs)("p",{children:["Entered number: ",Se]}),(0,k.jsx)(R,{isOpen:me,onClose:()=>{ye(!1)},onConfirm:e=>{Ee(e),we(e),console.log("Confirmed value:",e)}}),(0,k.jsx)(E.A,{open:fe,message:"Seguro que desea borrar este valor?",onClose:ke,onConfirm:()=>{De(ve,Ce,"Eliminar"),ke()}})]})}},2845:(e,a,t)=>{t.d(a,{A:()=>u});var o=t(9950),n=t(8429),c=t(4857),l=t(6589),s=t(5333),r=t(3189),i=t(4414);const d=e=>{let{texto:a}=e;const t=(0,c.A)(),o=(0,l.A)(t.breakpoints.down("sm")),d=(0,n.Zp)();return(0,i.jsx)(i.Fragment,{children:o&&(0,i.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:60,padding:t.spacing(1),backgroundColor:t.palette.background.paper,boxShadow:t.shadows[2],display:"flex",alignItems:"center",zIndex:1e3,boxSizing:"border-box"},children:[(0,i.jsx)(s.A,{onClick:()=>d(-1),"aria-label":"back",children:(0,i.jsx)(r.A,{})}),(0,i.jsx)("h2",{style:{marginLeft:t.spacing(2)},children:a})]})})},u=o.memo(d)},9153:(e,a,t)=>{t.d(a,{A:()=>l});var o=t(815),n=t(9713);const c=(0,o.Wp)({apiKey:"AIzaSyC6r22uPQBahRmtyRsn26WeensEOg5TZ5k",authDomain:"chekeaapp-f5abe.firebaseapp.com",databaseURL:"https://chekeaapp-f5abe.firebaseio.com",projectId:"chekeaapp-f5abe",storageBucket:"chekeaapp-f5abe.appspot.com",messagingSenderId:"1018071683424",appId:"1:1018071683424:web:62b2adfc270f618399ce05",measurementId:"G-B0XYV7SVYF"}),l=((0,n.P5)(c),c)}}]);