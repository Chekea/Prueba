"use strict";(self.webpackChunkmy_react_appo=self.webpackChunkmy_react_appo||[]).push([[988],{4988:(e,o,t)=>{t.r(o),t.d(o,{default:()=>x});var a=t(9950),l=t(5003),n=t(5277),r=t(2578),i=t(6639),s=t(294),c=t(1975),d=t(4857),p=t(6589),h=t(2053),g=t(2845),u=t(4414);const m=(0,a.memo)(l.A);const x=function(e){let{email:o}=e;const[t,l]=(0,a.useState)((()=>localStorage.getItem("selectedChip")||("nawetin@gmail.com"===o?"Enviado":"Comprado"))),[x,v]=(0,a.useState)(!0),[f,C]=(0,a.useState)(!0),[b,A]=(0,a.useState)([]),k=(0,a.useRef)(null),j=(0,d.A)(),w=(0,p.A)(j.breakpoints.down("sm")),E=(0,r.C3)(s.A),y=(0,a.useCallback)((e=>{A([]),v(!0),localStorage.setItem("selectedChip",e),t!==e&&(l(e),S("",e))}),[t]),S=(e,t)=>{const a=(0,r.KR)(E,"GE/Compras/Nacional");let l;0!==b.length?l=(0,r.P)(a,(0,r.kT)("Codigo"),(0,r.FD)(e),(0,r.$1)(6)):"nawetin@gmail.com"===o?(l=(0,r.P)(a,(0,r.kT)("Estado"),(0,r.iz)("Enviado")),console.log(l,"manito")):(console.log(l,"a"),l=(0,r.P)(a,(0,r.$1)(16))),(0,r.Jt)(l).then((e=>{const o=[];e.forEach((e=>{const a=e.val();a&&!(0,c.D0)(a.Codigo,b)&&a.Estado===t&&(console.log(a),o.unshift(a))})),0!==b.length?A((e=>[...e,...o])):A(o),v(!1),0===o.length&&C(!1)})).catch((e=>{console.error("Error fetching data:",e),v(!1)}))},R=(0,a.useCallback)((()=>{let e=b.slice(-1)[0];k.current.scrollTop+k.current.clientHeight>=k.current.scrollHeight&&S(e.Codigo,t)}),[b.length]);return(0,a.useEffect)((()=>(k.current.addEventListener("scroll",R),()=>{k.current&&k.current.removeEventListener("scroll",R)})),[R]),(0,a.useEffect)((()=>(S("",t),()=>{})),[]),(0,u.jsxs)("div",{style:{padding:8,overflowY:"auto",height:"95vh",marginTop:w?65:5,scrollBehavior:"smooth",paddingTop:"10px"},ref:k,children:[(0,u.jsx)(g.A,{texto:"Nacional"}),"nawetin@gmail.com"!==o&&(0,u.jsxs)("div",{children:[(0,u.jsx)(n.A,{label:"Comprado",style:{marginRight:"8px"},clickable:!0,onClick:()=>y("Comprado"),color:"Comprado"===t?"primary":"default"}),(0,u.jsx)(n.A,{label:"Enviado",clickable:!0,style:{marginRight:"8px"},onClick:()=>y("Enviado"),color:"Enviado"===t?"primary":"default"}),(0,u.jsx)(n.A,{label:"Retirado",clickable:!0,style:{marginRight:"8px"},onClick:()=>y("Retirado"),color:"Retirado"===t?"primary":"default"})]}),(0,u.jsx)("div",{children:x?(0,u.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,u.jsx)(i.A,{})}):b.length>0?(0,u.jsx)(m,{dats:b,venta:!1,valor:"Nacional"}):(0,u.jsx)(h.A,{variant:"subtitle1",gutterBottom:!0,children:"SIN DATOS"})})]})}},2845:(e,o,t)=>{t.d(o,{A:()=>p});var a=t(9950),l=t(8429),n=t(4857),r=t(6589),i=t(5333),s=t(3189),c=t(4414);const d=e=>{let{texto:o}=e;const t=(0,n.A)(),a=(0,r.A)(t.breakpoints.down("sm")),d=(0,l.Zp)();return(0,c.jsx)(c.Fragment,{children:a&&(0,c.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:60,padding:t.spacing(1),backgroundColor:t.palette.background.paper,boxShadow:t.shadows[2],display:"flex",alignItems:"center",zIndex:1e3,boxSizing:"border-box"},children:[(0,c.jsx)(i.A,{onClick:()=>d(-1),"aria-label":"back",children:(0,c.jsx)(s.A,{})}),(0,c.jsx)("h2",{style:{marginLeft:t.spacing(2)},children:o})]})})},p=a.memo(d)},5003:(e,o,t)=>{t.d(o,{A:()=>d});var a=t(4436),l=t(6589),n=t(6491),r=t(2053),i=t(9950),s=t(8429),c=(t(1975),t(4414));const d=function(e){let{dats:o,valor:t}=e;const d=(0,s.Zp)(),p=(0,a.A)(),h=(0,l.A)(p.breakpoints.down("sm")),[g,u]=(0,i.useState)(o);return null===o||void 0===o?void 0:o.map((e=>(0,c.jsxs)(n.A,{onClick:()=>{return o=e.Codigo,e.Contexto,void d("/".concat(t,"/Detalles/").concat(o));var o},sx:{display:"flex",justifyContent:"space-between",cursor:"pointer","&:hover":{backgroundColor:h?"none":"#f0f0f0"},padding:"8px",borderRadius:"4px",width:"80vw",flexGrow:1,flexShrink:1,overflowX:"hidden",maxWidth:h?"100%":"90vw"},children:[(0,c.jsx)(r.A,{children:e.CompraId}),"Exterior"===e.Contexto&&(0,c.jsx)(r.A,{color:"Retirado"!==e.Estado?"red":null,children:e.Estado})]},e.Codigo)))}},1975:(e,o,t)=>{t.d(o,{D0:()=>l,Zr:()=>n,o6:()=>a});t(9950),t(2578);const a=e=>{const o=e.match(/\d{5}$/);return o?o[0]:null};let l=(e,o)=>o.some((o=>o.Codigo===e));const n=e=>"string"!==typeof e||0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1)},3189:(e,o,t)=>{var a=t(4994);o.A=void 0;var l=a(t(9526)),n=t(4414);o.A=(0,l.default)((0,n.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")}}]);